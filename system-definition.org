#+property: header-args :comments link :tangle-mode (identity #o400) :results output silent :mkdirp yes

* Setting up the system

The following code shows how the system is defined.  

#+begin_src lisp :tangle "system/utility-directory.asd" :mkdirp yes
(in-package :cl-user)

(defpackage :utility-directory-asd
  (:use :cl :asdf))

(in-package :utility-directory-asd)

(defsystem :utility-directory
  :components ((:file "packages")
	       (:file "macros" :depends-on ("packages"))
               (:file "lists" :depends-on ("packages"))
	       (:file "hash-table" :depends-on ("packages"))))
#+end_src

The file ~packages.lisp~ defines the two packages ~:util~ and
~:test-util~.

#+begin_src lisp :tangle "system/packages.lisp" :mkdirp yes
(in-package :cl-user)

(defpackage :utility-directory
     (:use :cl)
     (:import-from :alexandria :with-gensyms)
     (:export :cartesian-product
	      :insert-after
	      :insert-before
	      :list-of
	      :list-of-type
	      :split-list-on-first
	      :splice-if
	      :walk-tree

	      :hash-table=

	      :def-methods
	      :fixed-point
	      :unexport-symbols))
#+end_src

** Utilities 

This library makes use of Quickutil.  We generate a file with the following
command:

#+begin_src lisp :tangle no
(in-package :cl-user)

(qtlc:save-utils-as "system/utilities.lisp" :utilities '() :package :utility-directory-util)
#+end_src
